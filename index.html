<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>VintageAir ‚Äî —Ä–µ–π—Å—ã –ß—É–∫–æ—Ç–ê–í–ò–ê</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
body { font-family: Arial; background:#f4f6f8; padding:20px; }
.aircraft-showcase { display:flex; gap:12px; margin-bottom:20px; }
.aircraft-card {
  background:#fff; padding:10px 16px; border-radius:10px;
  cursor:pointer; border:2px solid transparent;
}
.aircraft-card.active { border-color:#1e88e5; background:#e3f2fd; }

table { width:100%; border-collapse:collapse; background:#fff; margin-top:20px; }
th,td { border:1px solid #ccc; padding:6px; text-align:center; }
th { background:#eee; }

#map { height:400px; margin-top:20px; }
</style>
</head>

<body>

<h2>‚úàÔ∏è VintageAir ‚Äî —Ä–µ–π—Å—ã –ß—É–∫–æ—Ç–ê–í–ò–ê</h2>

<div class="aircraft-showcase">
  <div class="aircraft-card active" data-type="">üåç –í—Å–µ</div>
  <div class="aircraft-card" data-type="AN-24">‚úàÔ∏è AN-24</div>
  <div class="aircraft-card" data-type="DHC-6">üõ© DHC-6</div>
  <div class="aircraft-card" data-type="MI">üöÅ –ú–∏-8</div>
</div>

<table id="table">
<thead>
<tr>
  <th>–î–∞—Ç–∞</th><th>–û—Ç–∫—É–¥–∞</th><th>–ö—É–¥–∞</th>
  <th>–†–µ–π—Å</th><th>–°–∞–º–æ–ª—ë—Ç</th><th>–¶–µ–Ω–∞</th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>

<div id="map"></div>

<script>
// ================== –î–ê–ù–ù–´–ï –í–ù–£–¢–†–ò ==================
const flights = [
  {date:"27.01.2026",origin:"DYR",destination:"–ë–ù–ì",flight:"15",aircraft:"AN-24",price:19000},
  {date:"22.01.2026",origin:"DYR",destination:"–í–ì–ò",flight:"49",aircraft:"DHC-6",price:7000},
  {date:"09.02.2026",origin:"DYR",destination:"KPW",flight:"25",aircraft:"AN-24",price:17000},
  {date:"10.02.2026",origin:"DYR",destination:"KVM",flight:"7",aircraft:"MI",price:7000},
  {date:"19.01.2026",origin:"DYR",destination:"PWE",flight:"21",aircraft:"AN-24",price:17000},
];

// ================== –ê–≠–†–û–ü–û–†–¢–´ ==================
const AIRPORTS = {
  DYR:[64.734,177.741],
  "–ë–ù–ì":[63.05,179.32],
  "–í–ì–ò":[64.40,176.00],
  KPW:[67.84,166.14],
  KVM:[62.59,174.52],
  PWE:[69.78,170.60],
};

let activeType = "";

// ================== –¢–ê–ë–õ–ò–¶–ê ==================
function render(){
  rows.innerHTML="";
  flights
    .filter(f=>!activeType || f.aircraft===activeType)
    .forEach(f=>{
      rows.innerHTML+=`
        <tr>
          <td>${f.date}</td>
          <td>${f.origin}</td>
          <td>${f.destination}</td>
          <td>${f.flight}</td>
          <td>${f.aircraft}</td>
          <td>${f.price.toLocaleString()} ‚ÇΩ</td>
        </tr>`;
    });
  drawMap();
}

// ================== –ö–ê–†–¢–ê ==================
let map = L.map("map").setView([65,170],4);
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);
let layer = L.layerGroup().addTo(map);

function drawMap(){
  layer.clearLayers();
  flights
    .filter(f=>!activeType || f.aircraft===activeType)
    .forEach(f=>{
      if(!AIRPORTS[f.origin] || !AIRPORTS[f.destination]) return;
      L.polyline(
        [AIRPORTS[f.origin], AIRPORTS[f.destination]],
        {color:"#1e88e5",weight:2}
      ).addTo(layer);
    });
}

// ================== –ö–ù–û–ü–ö–ò ==================
document.querySelectorAll(".aircraft-card").forEach(c=>{
  c.onclick=()=>{
    document.querySelectorAll(".aircraft-card").forEach(x=>x.classList.remove("active"));
    c.classList.add("active");
    activeType=c.dataset.type;
    render();
  };
});

render();
</script>

</body>
</html>
